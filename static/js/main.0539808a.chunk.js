(this["webpackJsonpreact_add-todo-form"]=this["webpackJsonpreact_add-todo-form"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(9),o=n.n(c),r=n(3),l=n(8),s=n(2),i=n(1),a=n.n(i),u=(n(14),[{id:1,title:"Apple",selected:!1,colorId:1},{id:2,title:"Orange",selected:!1,colorId:1},{id:3,title:"Steak",selected:!1,colorId:2},{id:4,title:"Potato",selected:!1,colorId:3},{id:5,title:"Stawberry",selected:!1,colorId:2}]),d=[{id:1,color:"red"},{id:2,color:"blue"},{id:3,color:"green"}],b=(n(15),n(4)),j=n.n(b),f=(n(16),n(0)),m=a.a.memo((function(e){var t=e.product,n=e.colors,c=e.onDelete,o=e.onRename,r=e.onSelect,l=t.currentColor,a=t.selected,u=Object(i.useState)(t.title),d=Object(s.a)(u,2),b=d[0],m=d[1],O=Object(i.useState)(t.colorId.toString()),h=Object(s.a)(O,2),p=h[0],x=h[1],g=Object(i.useState)(!1),N=Object(s.a)(g,2),v=N[0],S=N[1],_=Object(i.useState)(!1),I=Object(s.a)(_,2),y=I[0],T=I[1],k=Object(i.useState)(!1),C=Object(s.a)(k,2),A=C[0],D=C[1],B=y&&b.length<1,E=A&&p.length<1;return Object(i.useEffect)((function(){m(t.title),x(t.colorId.toString())}),[t]),Object(f.jsx)("article",{"data-id":t.id,className:"TodoInfo",children:v?Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),b.length>0&&p.length>0?(o(t.id,b,Number(p)),S((function(e){return!e})),m(""),x(""),T(!1),D(!1)):(T(!0),D(!0))},method:"GET",action:"/api/users",className:"TodoInfo-submitForm",children:Object(f.jsxs)("article",{className:"TodoInfo-edit",children:[Object(f.jsxs)("section",{className:"TodoInfo-edit__section",children:[Object(f.jsx)("input",{className:j()("TodoInfo-edit__input","form-control",{"error-border":B}),type:"text",value:b,onChange:function(e){var t=e.target.value;m(t)},onBlur:function(){return T(!0)},maxLength:15}),Object(f.jsxs)("select",{className:j()("TodoInfo-edit__select","form-control",{"error-border":E}),value:p,onChange:function(e){var t=e.target.value;x(t)},onBlur:function(){return D(!0)},children:[Object(f.jsx)("option",{value:"",disabled:!0,children:"Choose a color"}),n.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.color},e.id)}))]})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-outline-success btn-success-submit",children:"Done"})]})}):Object(f.jsxs)("section",{className:"TodoInfo-section",children:[Object(f.jsxs)("section",{className:"TodoInfo__checkbox-section",children:[Object(f.jsx)("input",{type:"checkbox",className:"btn-check",id:"$btn-check-".concat(t.id,"-outlined"),onClick:function(){r(t.id,!a)},checked:a}),Object(f.jsx)("label",{className:"btn btn-outline-success btn-success-check",htmlFor:"$btn-check-".concat(t.id,"-outlined"),children:"\u2713"}),Object(f.jsx)("h2",{className:j()("TodoInfo__title",{"TodoInfo__title-selected":a}),style:l&&{color:l.color},children:t.title})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return c(t.id)},children:"Delete"}),!a&&Object(f.jsx)("button",{type:"button",className:"btn btn-outline-warning",onClick:function(){return S((function(e){return!e}))},children:"Edit"})]})]})},t.id)})),O=(n(18),function(e){var t=e.products,n=e.changeAll,c=Object(i.useState)(t),o=Object(s.a)(c,2),r=o[0],l=o[1];return Object(i.useEffect)((function(){l(t.filter((function(e){return!0===e.selected})))}),[t]),Object(f.jsxs)("article",{className:"TodoSelect",children:[Object(f.jsxs)("section",{children:[Object(f.jsx)("button",{type:"button",className:"btn btn-outline-success",onClick:function(){return n(!0)},children:"Select All"}),Object(f.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return n(!1)},children:"Remove select"})]}),Object(f.jsx)("p",{className:j()("TodoSelect__title",{"TodoSelect__title--selected":r.length}),children:"Selected items: ".concat(r.length)})]})}),h=a.a.memo((function(e){var t=e.products,n=e.colors,c=e.onDelete,o=e.onRename,r=e.onSelect,l=e.changeAll;return Object(f.jsxs)("section",{className:"TodoList",children:[Object(f.jsx)(O,{products:t,changeAll:l}),t.map((function(e){return Object(f.jsx)(m,{product:e,colors:n,onDelete:c,onRename:o,onSelect:r},e.id)}))]})})),p=function(){var e=Object(i.useState)(u),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(i.useState)(""),a=Object(s.a)(o,2),b=a[0],j=a[1],m=Object(i.useState)(""),O=Object(s.a)(m,2),p=O[0],x=O[1],g=Object(i.useState)(!1),N=Object(s.a)(g,2),v=N[0],S=N[1],_=Object(i.useState)(!1),I=Object(s.a)(_,2),y=I[0],T=I[1],k=v&&b.length<1,C=y&&p.length<1,A=function(e){return d.find((function(t){return t.id===e}))||void 0},D=Object(i.useMemo)((function(){return n.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{currentColor:A(e.colorId)})}))}),[n]);return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("form",{className:"App__form form",onSubmit:function(e){e.preventDefault();var t={id:Math.max.apply(Math,Object(l.a)(n.map((function(e){return e.id}))))+1,title:b,selected:!1,colorId:Number(p),color:A(Number(p))};b.length>0&&p.length>0?(c((function(e){return[].concat(Object(l.a)(e),[t])})),j(""),x(""),S(!1),T(!1)):(S(!0),T(!0))},action:"/api/users",method:"POST",children:[Object(f.jsx)("h1",{className:"App__title",children:"Add todo form"}),k&&Object(f.jsx)("span",{className:"error",children:"Please enter a title"}),Object(f.jsx)("div",{className:"field",children:Object(f.jsx)("input",{className:"form__textInput form-control",type:"text","data-cy":"titleInput",value:b,onChange:function(e){var t=e.target.value;j(t)},onBlur:function(){return S(!0)},placeholder:"Enter a title",maxLength:15})}),C&&Object(f.jsx)("span",{className:"error",children:"Please choose a product"}),Object(f.jsx)("div",{className:"field",children:Object(f.jsxs)("select",{className:"form__selectColor form-control","data-cy":"userSelect",value:p,onChange:function(e){var t=e.target.value;x(t)},onBlur:function(){return T(!0)},children:[Object(f.jsx)("option",{value:"",disabled:!0,children:"Choose a product"}),d.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.color},e.id)}))]})}),Object(f.jsx)("button",{type:"submit","data-cy":"submitButton",className:"btn btn-warning btn-todoAdd",children:"Add"})]}),Object(f.jsx)(h,{products:D,colors:d,onDelete:function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))},onRename:function(e,t,n){c((function(c){return c.map((function(c){return c.id!==e?c:Object(r.a)(Object(r.a)({},c),{},{title:t,colorId:n})}))}))},onSelect:function(e,t){c((function(n){return n.map((function(n){return n.id!==e?n:Object(r.a)(Object(r.a)({},n),{},{selected:t})}))}))},changeAll:function(e){c((function(t){return t.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{selected:e})}))}))}})]})};o.a.render(Object(f.jsx)(p,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0539808a.chunk.js.map